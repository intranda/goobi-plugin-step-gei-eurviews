<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:h="http://xmlns.jcp.org/jsf/html" 
xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:o="http://omnifaces.org/ui" xmlns:of="http://omnifaces.org/functions" template="/ui/eurviews.html" 
xmlns:x="http://myfaces.apache.org/tomahawk" xmlns:intranda="http://xmlns.jcp.org/jsf/composite/composites" xmlns:p="http://primefaces.org/ui">


    <ui:define name="breadcrumb">
        <h:commandLink value="#{msgs.startseite}" action="index" />
        <f:verbatim> &#8250;&#8250; </f:verbatim>
        <h:commandLink value="#{msgs.aktuelleSchritte}" action="#{AktuelleSchritteForm.paginator.returnToPreviousPage}" />
        <f:verbatim> &#8250;&#8250; </f:verbatim>
        <h:outputText value="#{msgs.Resource}" />
    </ui:define>

    <ui:define name="title">
        <h3>EurViews - Quelle</h3>
    </ui:define>

    <ui:define name="content">


        <h:form id="annotationform">
            <x:panelTabbedPane serverSideTabSwitch="true" immediateTabChange="false" styleClass="tabbedPane" activeTabStyleClass="activeTab" inactiveTabStyleClass="inactiveTab" disabledTabStyleClass="disabledTab" activeSubStyleClass="activeSub" inactiveSubStyleClass="inactiveSub" tabContentStyleClass="tabContent">

                <x:panelTab label="Bibliographische Daten">
                    <h:panelGrid columns="2">
                        <h:outputLabel for="documentType" value="#{msgs.documentType}" />

                        <h:selectOneMenu value="#{AktuelleSchritteForm.myPlugin.data.documentType}" id="documentType">
                            <f:selectItems value="#{AktuelleSchritteForm.myPlugin.possibleDocumentTypes}" var="docstruct" itemLabel="#{msgs[docstruct]}" itemValue="#{docstruct}" />

                            <f:ajax render="@this" execute="@form" event="valueChange" />

                        </h:selectOneMenu>

                        <h:outputLabel for="maintitle" value="#{msgs.maintitle}" />
                        <h:inputText value="#{AktuelleSchritteForm.myPlugin.data.maintitle}" id="maintitle">
                            <f:ajax render="@this" execute="@form" event="valueChange" />
                        </h:inputText>
                        <h:outputLabel for="subtitle" value="#{msgs.subtitle}" />
                        <h:inputText value="#{AktuelleSchritteForm.myPlugin.data.subtitle}" id="subtitle">
                            <f:ajax render="@this" execute="@form" event="valueChange" />
                        </h:inputText>
                        <h:outputLabel for="author" value="#{msgs.author}" />
                        <h:panelGroup>
                            <h:outputText value="#{msgs.firstname}" />
                            <h:inputText value="#{AktuelleSchritteForm.myPlugin.data.authorFirstname}" id="author">
                                <f:ajax render="@this" execute="@form" event="valueChange" />
                            </h:inputText>
                            <h:outputText value="#{msgs.lastname}" />
                            <h:inputText value="#{AktuelleSchritteForm.myPlugin.data.authorLastname}">
                                <f:ajax render="@this" execute="@form" event="valueChange" />
                            </h:inputText>
                        </h:panelGroup>


                        <h:outputLabel for="language" value="#{msgs.language}" />
                        <h:inputText value="#{AktuelleSchritteForm.myPlugin.data.language}" id="language">
                            <f:ajax render="@this" execute="@form" event="valueChange" />
                        </h:inputText>

                        <h:outputLabel for="publisher" value="#{msgs.publisher}" />
                        <h:inputText value="#{AktuelleSchritteForm.myPlugin.data.publisher}" id="publisher">
                            <f:ajax render="@this" execute="@form" event="valueChange" />
                        </h:inputText>


                        <h:outputLabel for="placeOfPublication" value="#{msgs.placeOfPublication}" />
                        <h:inputText value="#{AktuelleSchritteForm.myPlugin.data.placeOfPublication}" id="placeOfPublication">
                            <f:ajax render="@this" execute="@form" event="valueChange" />
                        </h:inputText>

                        <h:outputLabel for="publicationYear" value="#{msgs.publicationYear}" />
                        <h:inputText value="#{AktuelleSchritteForm.myPlugin.data.publicationYear}" id="publicationYear">
                            <f:ajax render="@this" execute="@form" event="valueChange" />
                        </h:inputText>

                        <h:outputLabel for="numberOfPages" value="#{msgs.numberOfPages}" />
                        <h:inputText value="#{AktuelleSchritteForm.myPlugin.data.numberOfPages}" id="numberOfPages">
                            <f:ajax render="@this" execute="@form" event="valueChange" />
                        </h:inputText>

                        <h:outputLabel for="shelfmark" value="#{msgs.shelfmark}" />
                        <h:inputText value="#{AktuelleSchritteForm.myPlugin.data.shelfmark}" id="shelfmark">
                            <f:ajax render="@this" execute="@form" event="valueChange" />
                        </h:inputText>

                        <h:outputLabel for="copyright" value="#{msgs.copyright}" />
                        <h:inputText value="#{AktuelleSchritteForm.myPlugin.data.copyright}" id="copyright">
                            <f:ajax render="@this" execute="@form" event="valueChange" />
                        </h:inputText>
                    </h:panelGrid>
                </x:panelTab>

                <x:panelTab label="Digitalisate">

                    <ui:repeat var="image" value="#{AktuelleSchritteForm.myPlugin.currentImages}">

                        <h:panelGrid id="thumb" styleClass="thumbnail">


                            <h:graphicImage value="#{image.imagename}" />

                            <h:panelGroup>
                                <h:outputLabel for="structType" value="#{msgs.structType}" />
                                <h:selectOneMenu value="#{image.structType}" id="structType">
                                    <f:selectItems value="#{AktuelleSchritteForm.myPlugin.possibleImageDocStructs}" var="docstruct" itemLabel="#{msgs[docstruct]}" itemValue="#{docstruct}" />
                                    <f:ajax render="@this" execute="@form" event="valueChange" />
                                </h:selectOneMenu>
                            </h:panelGroup>
                            <h:panelGroup>
                                <h:outputLabel for="licence" value="#{msgs.licence}" />

                                <h:selectOneMenu value="#{image.licence}" id="licence">
                                    <f:selectItems value="#{AktuelleSchritteForm.myPlugin.possibleLicences}" />
                                    <f:ajax render="@this" execute="@form" event="valueChange" />
                                </h:selectOneMenu>
                            </h:panelGroup>

                            <h:panelGroup>

                                <h:outputLabel for="display" value="#{msgs.displayImage}" />
                                <h:selectBooleanCheckbox value="#{image.displayImage}" id="display">
                                    <f:ajax render="@this" execute="@form" event="valueChange" />
                                </h:selectBooleanCheckbox>
                                <h:outputLabel for="" value="" />

                            </h:panelGroup>
                            <h:panelGroup>

                                <h:outputLabel for="representative" value="#{msgs.representative}" />
                                <h:selectBooleanCheckbox value="#{image.representative}" id="representative">
                                    <f:ajax render="@this" execute="@form" event="valueChange" />
                                </h:selectBooleanCheckbox>
                            </h:panelGroup>


                        </h:panelGrid>

                    </ui:repeat>

                </x:panelTab>


                <x:panelTab label="Erschliessung">
                    <ui:repeat var="desc" value="#{AktuelleSchritteForm.myPlugin.descriptionList}">

                        <h:panelGrid columns="2">
                            <h:outputLabel value="#{msgs.language}" for="language" />
                            <h:selectOneMenu value="#{desc.language}" id="language">
                                <f:selectItems value="#{AktuelleSchritteForm.myPlugin.possibleLanguages}" var="language" itemLabel="#{msgs[language]}" itemValue="#{language}" />
                                <f:ajax render="@this" execute="@form" event="valueChange" />
                            </h:selectOneMenu>

                            <h:outputLabel value="#{msgs.descriptiontitle}" for="title" />
                            <h:inputText value="#{desc.title}" id="title">
                                <f:ajax render="@this" execute="@form" event="valueChange" />
                            </h:inputText>

                            <h:outputLabel value="#{msgs.shortDescription}" for="shortDescription" />
                            <p:editor value="#{desc.shortDescription}" id="shortDescription">
                                
                            </p:editor>

                            <h:outputLabel value="#{msgs.longDescription}" for="longDescription" />
                             <p:editor value="#{desc.longDescription}" id="longDescription" >
                            </p:editor>

                            <!-- TODO categories and keywords  -->
                        </h:panelGrid>
<hr/>

                    </ui:repeat>
                        <h:commandButton value="#{msgs.addDescription}" action="#{AktuelleSchritteForm.myPlugin.addDescription}"></h:commandButton>
                </x:panelTab>

                <x:panelTab label="Volltexte/Transkription">

                </x:panelTab>

            </x:panelTabbedPane>


            <h:panelGroup styleClass="div-image">
                <h:outputText value="PLACEHOLDER FOR IMAGES" />
            </h:panelGroup>

            <h:commandButton value="#{msgs.cancel}" action="#{AktuelleSchritteForm.myPlugin.cancel}" />

            <h:commandButton value="#{msgs.save}" action="#{AktuelleSchritteForm.myPlugin.save}" />

        </h:form>



    </ui:define>


</ui:composition>